//>>built
define("gridx/modules/select/Column","dojo/_base/declare dojo/query dojo/_base/array dojo/_base/sniff dojo/_base/event dojo/dom-class dojo/keys ./_Base ../../core/_Module".split(" "),function(g,l,n,p,q,h,f,r,s){return g(r,{name:"selectColumn",columnMixin:{select:function(){this.grid.select.column.selectById(this.id);return this},deselect:function(){this.grid.select.column._markById(this.id,0);return this},isSelected:function(){return this.grid.select.column.isSelected(this.id)}},selectById:function(b){this.arg("multiple")||
this.clear(b);this._markById(b,1)},deselectById:function(b){this._markById(b,0)},isSelected:function(b){b=this.grid._columnsById[b];return!(!b||!b._selected)},getSelected:function(){var b=[],c,a,d=this.grid._columns,e=d.length;for(c=0;c<e;++c)a=d[c],a._selected&&b.push(a.id);return b},clear:function(b){var c=this.grid._columns,a,d=c.length;for(a=0;a<d;++a)c[a].id!==b&&this._markById(c[a].id,0)},_type:"column",_init:function(){var b=this,c=b.grid;b.batchConnect([c,"onHeaderCellClick",function(a){h.contains(a.target,
"gridxArrowButtonNode")||b._select(a.columnId,c._isCtrlKey(a))}],[c,4>p("ff")?"onHeaderCellKeyUp":"onHeaderCellKeyDown",function(a){if(a.keyCode==f.SPACE||a.keyCode==f.ENTER)b._select(a.columnId,c._isCtrlKey(a)),q.stop(a)}])},_markById:function(b,c){var a=this.grid._columnsById[b];this.arg("enabled")&&(c=!!c,a&&!a._selected==c&&(a._selected=c,this._highlight(b,c),this[c?"onSelected":"onDeselected"](this.grid.column(b,1),b),this._onSelectionChange()))},_highlight:function(b,c){var a=this,d=a.grid;
l("[colid\x3d'"+d._escapeId(b)+"']",d.bodyNode).forEach(function(e){h.toggle(e,"gridxColumnSelected",c);a.onHighlightChange({column:d._columnsById[b].index},c)})},_onRender:function(b,c){var a,d,e,f=b+c,k=this.grid,g=k.bodyNode,m=n.filter(k._columns,function(a){return a._selected});for(a=m.length-1;0<=a;--a)for(d=b;d<f;++d)e=l(['[visualindex\x3d"',d,'"] [colid\x3d"',k._escapeId(m[a].id),'"]'].join(""),g)[0],h.add(e,"gridxColumnSelected")}})});
//# sourceMappingURL=Column.js.map