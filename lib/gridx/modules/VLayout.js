//>>built
define("gridx/modules/VLayout",["dojo/_base/declare","dojo/DeferredList","../core/_Module"],function(l,k,m){return l(m,{name:"vLayout",preload:function(){var a=this,b=a.grid;a.connect(b,"_onResizeEnd",function(b,f){var e,d=[];for(e in f)d.push(f[e]);(new k(d)).then(function(){a.reLayout()})});b.autoHeight?(a.connect(b.body,"onRender","reLayout"),a.connect(b.body,"onEmpty","reLayout")):a.connect(b,"setColumns",function(){setTimeout(function(){a.reLayout()},0)})},load:function(a,b){var c=this;b.then(function(){c._defs&&
c._mods?(new k(c._defs)).then(function(){c._layout();c.loaded.callback()}):c.loaded.callback()})},register:function(a,b,c,f,e){this._defs=this._defs||[];this._mods=this._mods||{};this._mods[c]=this._mods[c]||[];this._defs.push(e||a.loaded);this._mods[c].push({p:f||0,mod:a,nodeName:b})},reLayout:function(){var a=0,b,c;for(b in this._mods)(c=this.grid[b])&&(a+=c.offsetHeight);this._updateHeight(a)},_layout:function(){var a=0,b=this._mods,c,f,e,d,g,h;for(c in b)if(f=this.grid[c]){d=b[c];d.sort(function(a,
b){return a.p-b.p});for(e=0;e<d.length;++e)g=d[e].mod,h=d[e].nodeName,g&&g[h]&&f.appendChild(g[h]);a+=f.offsetHeight}this._updateHeight(a)},_updateHeight:function(a){var b=this.grid,c=b.domNode,f=b.mainNode.style;if(b.autoHeight){var e=function(){var d=b.bodyNode.lastChild,d=d?d.offsetTop+d.offsetHeight:b.emptyNode.offsetHeight;c.style.height=d+a+"px";f.height=d+"px"};e();b.vScroller.loaded.then(e)}else c.clientHeight>a&&(f.height=c.clientHeight-a+"px")}})});
//# sourceMappingURL=VLayout.js.map